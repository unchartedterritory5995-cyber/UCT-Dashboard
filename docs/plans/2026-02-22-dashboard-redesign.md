# Dashboard Redesign — Design Document
**Date:** 2026-02-22
**Status:** Approved

## Overview

Replace the standalone `morning_wire_output.html` static HTML file with a full-featured React + FastAPI dashboard app. The Morning Wire daily briefing becomes one tab within the new app. The dashboard's main landing page is a live bento-box grid inspired by the Bento Box trading terminal screenshot.

---

## App Shell

### Layout
```
┌──────────────────────────────────────────────────────────────┐
│ [Nav 60px] │         Main Content Area            │ [Movers] │
│            │                                      │  250px   │
│  Icon nav  │  Changes per section (React Router)  │ (Dash    │
│  (fixed)   │                                      │  only)   │
└──────────────────────────────────────────────────────────────┘
```

### Left Navigation (60px fixed, icon-only)
- Hover expands to 200px with labels
- Sections:
  - Dashboard (grid icon) — default landing
  - Morning Wire (newspaper icon)
  - Traders (people icon)
  - Screener (filter icon)
  - Options Flow (chart icon) — placeholder
  - Post Market Recap (moon icon)
  - Model Book (book icon)
  - Settings (gear icon)

### Right Movers Sidebar (250px, Dashboard tab only)
- RIPPING section (green) — tickers + % gain
- DRILLING section (red) — tickers + % loss
- Scrollable, updates every 30s via Massive API

### Color Scheme
Preserves existing UCT palette:
- `--bg: #0e0f0d`, `--ut-green: #2d8c4e`, `--ut-gold: #c9a84c`, `--ut-cream: #d4c9a8`
- Fonts: Instrument Sans, IBM Plex Mono, Cinzel, Bebas Neue

---

## Pages / Tabs

### 1. Dashboard (Bento Box) — Main Landing
Bento-grid layout:

```
┌─────────────────────────────────────────────────────────────┐
│  FUTURES STRIP: [NQ] [ES] [RTY] [BTC] [QQQ] [SPY] [IWM] [DIA] [VIX]  │
├───────────────────────┬─────────────────────────────────────┤
│   MARKET BREADTH      │      THEME TRACKER                  │
│   Gauge + Dist Days   │      Leaders / Laggards             │
│   A/D counts          │      1W / 1M / 3M tabs              │
├──────────────┬────────┴──────┬────────────┬─────────────────┤
│  CATALYST    │  EPISODIC     │  KEY       │    NEWS         │
│  FLOW        │  PIVOTS       │  LEVELS    │                 │
│  Earnings    │  Mini charts  │  Chart     │  Finnhub feed   │
│  + Breakouts │  top stocks   │  (Massive) │                 │
└──────────────┴───────────────┴────────────┴─────────────────┘
```

**Tile data sources and refresh rates:**

| Tile | Source | Refresh |
|------|--------|---------|
| Futures Strip (NQ/ES/RTY/BTC) | Massive live snapshot | 10s |
| Index Strip (QQQ/SPY/IWM/DIA/VIX) | Massive live snapshot | 10s |
| Market Breadth | Massive breadth + state.json | Daily (engine) |
| Theme Tracker | Engine themes + Massive ETF prices | Daily (engine) |
| Catalyst Flow | FMP earnings + engine | Daily (engine) |
| Episodic Pivots | Massive OHLC + leadership list | 5 min |
| Key Levels | Massive OHLC chart | On demand |
| News | Finnhub news API | 5 min |
| Movers sidebar | Massive top movers | 30s |

Responsive: below 1200px collapses to single-column stacked tiles.

---

### 2. Morning Wire
Current accordion-style content preserved as a full-width tab:
- The Rundown (AI narrative, 7 modules)
- Positioning & Sentiment
- The Wire (Earnings BMO/AMC, Movers, Calendar)
- UCT Leadership 20
- The Watchlist

Data generated by `morning_wire_engine.py` at 7:35 AM, served by FastAPI.

---

### 3. Traders (replaces Watchlist)
- Cards per trader: TSDR, Bracco, Qullamaggie, Manrav, etc.
- Each card shows their watchlist tickers with Massive live prices + % change
- Clickable tickers open Finviz chart modal

---

### 4. Screener
- Table driven by existing `screener.py` RS/Vol/Mom scoring
- Columns: Ticker, RS Score, Volume Ratio, Momentum, Cap Tier, Catalyst
- Sortable columns, on-demand refresh via FastAPI endpoint

---

### 5. Options Flow
- Placeholder — "Coming Soon" state
- No data source yet; wired in when options feed is acquired

---

### 6. Post Market Recap
- AI-generated end-of-day summary (what moved, what worked, what to watch)
- Triggered manually or at 4:30 PM
- Same format as Morning Wire rundown

---

### 7. Model Book
- Trade log powered by existing `trade_logger.py`
- Table: open/closed trades with entry, stop, target, P&L
- Add/close trades from the UI (no more command-line script)

---

## Backend Architecture

### Stack
- **Frontend:** React + Vite
- **Backend:** FastAPI (Python)
- **Deployment:** Single service on Railway (FastAPI serves React build + all API endpoints)

### Project Structure
```
morning-wire/
├── app/                          # React + Vite frontend
│   ├── src/
│   │   ├── components/           # NavBar, MoversSidebar, TileCard, Chart, Modal
│   │   ├── pages/                # Dashboard, MorningWire, Traders, Screener, etc.
│   │   └── main.jsx
│   ├── index.html
│   └── vite.config.js
├── api/                          # FastAPI backend
│   ├── main.py                   # Entry point, CORS, static file serving, router mount
│   ├── routers/
│   │   ├── snapshot.py           # GET /api/snapshot — live prices (Massive)
│   │   ├── movers.py             # GET /api/movers — top ripping/drilling
│   │   ├── breadth.py            # GET /api/breadth
│   │   ├── themes.py             # GET /api/themes
│   │   ├── earnings.py           # GET /api/earnings
│   │   ├── news.py               # GET /api/news
│   │   ├── leadership.py         # GET /api/leadership
│   │   ├── screener.py           # GET /api/screener
│   │   ├── traders.py            # GET /api/traders
│   │   ├── trades.py             # GET/POST/PATCH /api/trades
│   │   └── rundown.py            # GET /api/rundown
│   └── services/
│       ├── massive.py            # Wraps existing massive_data.py
│       ├── engine.py             # Wraps morning_wire_engine.py logic
│       └── cache.py              # In-memory TTL cache
├── morning_wire_engine.py        # Unchanged — still runs at 7:35 AM
├── massive_data.py               # Unchanged
├── screener.py                   # Unchanged
└── .env
```

### Caching (TTLs)
| Data | TTL |
|------|-----|
| Live prices / movers | 10–30s |
| News | 5 min |
| Screener | 15 min |
| Breadth, themes, leadership | 1h (refreshed by 7:35 AM engine) |

---

## Data Flow

```
7:35 AM — Task Scheduler (local)
  → morning_wire_engine.py runs
  → writes state.json + data files
  → FastAPI cache refreshes on next request

Browser
  → visits Railway URL
  → React app loads, Dashboard is default view
  → polls /api/snapshot every 10s (live prices)
  → polls /api/movers every 30s
  → polls /api/news every 5 min
  → static data (rundown, themes, leadership) loaded once on page open

Discord (7:35 AM)
  → engine posts embed with link to Railway dashboard URL
```

---

## What Changes vs. Today

| Today | New |
|-------|-----|
| Vercel static HTML deploy | Railway React + FastAPI |
| `morning_wire_output.html` | Dashboard tab in React app |
| Morning Wire = the whole product | Morning Wire = one tab |
| Static prices baked into HTML | Live prices from Massive via polling |
| No screener/traders/model book UI | Full multi-tab app |

## What Stays the Same
- `morning_wire_engine.py` runs at 7:35 AM unchanged
- All existing Python logic (engine, screener, massive_data, uct_intelligence)
- Finnhub, FMP, Massive API keys — same `.env`
- Discord embed posting
- UCT color palette and typography
